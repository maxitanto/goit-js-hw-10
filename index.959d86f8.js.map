{"mappings":"AAKA,MAAMA,EAAcC,SAASC,cAAc,iBACrCC,EAAmBF,SAASC,cAAc,aAC1CE,EAAeH,SAASC,cAAc,WACtCG,EAAcJ,SAASC,cAAc,UAE3CE,EAAaE,QAAS,ECFbC,MAAM,qHAAqDC,MAChEC,IACE,IAAKA,EAAKC,GACR,MAAM,IAAIC,MAAMF,EAAKG,QAGvB,OAAOH,EAAKI,MAAM,IDArBL,MAAKM,IACJd,EAAYe,mBAAmB,YAAgCD,EEZ9DE,KAAI,EAACC,GAAEA,EAAEC,KAAEA,KAAW,kBAAkBD,MAAOC,eAC/CC,KAAK,KFYNnB,EAAYM,QAAS,EACrBF,EAAaE,QAAS,CAAI,IAE3Bc,OAAMC,IACLhB,EAAYC,QAAS,EACrBF,EAAaE,QAAS,CAAI,IAG9BN,EAAYsB,iBAAiB,UAE7B,SAAwBC,GACtBnB,EAAaE,QAAS,EACtBD,EAAYC,QAAS,EAErB,MAAMkB,EAAkBD,EAAIE,OAAOC,MAEnCvB,EAAiBwB,UAAY,ICZNC,EDcPJ,ECbTjB,MACL,wDAA0CqB,mFAC1CpB,MAAKC,IACL,IAAKA,EAAKC,GACR,MAAM,IAAIC,MAAMF,EAAKG,QAGvB,OAAOH,EAAKI,MAAM,KDOjBL,MAAKqB,IACJ1B,EAAiBY,mBAAmB,YAA6Bc,EE3B1Db,KAAIc,GACNA,EAAKC,OACTf,KACC,EAACgB,YAAEA,EAAWC,YAAEA,EAAWf,KAAEA,KAAW,qBAC9BY,EAAKI,aAAahB,2FAECA,sBACxBe,uHAGwBD,wCAI9Bb,KAAK,OFcNf,EAAaE,QAAS,CAAI,IAE3Bc,OAAMC,IACLhB,EAAYC,QAAS,EAChBD,EAAYC,SACfF,EAAaE,QAAS,EAAI,ICtBlC,IAAyBsB,C","sources":["src/index.js","src/js/cat-api.js","src/js/render.js"],"sourcesContent":["import { fetchBreeds } from './js/cat-api';\nimport { fetchCatByBreed } from './js/cat-api';\nimport { renderBreedsSelect } from './js/render';\nimport { renderInfoByCat } from './js/render';\n\nconst selectBreed = document.querySelector('.breed-select');\nconst catInfoContainer = document.querySelector('.cat-info');\nconst loaderTextEl = document.querySelector('.loader');\nconst errorTextEl = document.querySelector('.error');\n\nloaderTextEl.hidden = false;\n\n//Генеруємо розмітку для select\nfetchBreeds()\n  .then(data => {\n    selectBreed.insertAdjacentHTML('beforeend', renderBreedsSelect(data));\n    selectBreed.hidden = false;\n    loaderTextEl.hidden = true;\n  })\n  .catch(err => {\n    errorTextEl.hidden = false;\n    loaderTextEl.hidden = true;\n  });\n\nselectBreed.addEventListener('change', onChangeSelect);\n\nfunction onChangeSelect(evt) {\n  loaderTextEl.hidden = false;\n  errorTextEl.hidden = true;\n\n  const selectedBreedId = evt.target.value;\n\n  catInfoContainer.innerHTML = '';\n\n  fetchCatByBreed(selectedBreedId)\n    .then(breed => {\n      catInfoContainer.insertAdjacentHTML('beforeend', renderInfoByCat(breed));\n      loaderTextEl.hidden = true;\n    })\n    .catch(err => {\n      errorTextEl.hidden = false;\n      if (!errorTextEl.hidden) {\n        loaderTextEl.hidden = true;\n      }\n    });\n}\n","const API_KEY =\n  'live_157mttNeMJWlXoM1sAOTlD4HufG9q8GIS1gjuzLvjwc6UJHZ2O6VB9tAFc2oAjT9';\nconst BASE_URL = 'https://api.thecatapi.com/v1/';\nconst BREEDS_END_POINT = 'breeds';\nconst INFO_END_POINT = 'images/search';\n\n//Функція виконує запит на всі породи\nfunction fetchBreeds() {\n  return fetch(`${BASE_URL}${BREEDS_END_POINT}?api_key=${API_KEY}`).then(\n    resp => {\n      if (!resp.ok) {\n        throw new Error(resp.status);\n      }\n\n      return resp.json();\n    }\n  );\n}\n\n// Функція виконує запит на повну інформацію про кота по id\nfunction fetchCatByBreed(breedId) {\n  return fetch(\n    `${BASE_URL}${INFO_END_POINT}?breed_ids=${breedId}&api_key=${API_KEY}`\n  ).then(resp => {\n    if (!resp.ok) {\n      throw new Error(resp.status);\n    }\n\n    return resp.json();\n  });\n}\n\nexport { fetchBreeds, fetchCatByBreed };\n","//Функція рендерить розмітку Select\nfunction renderBreedsSelect(breeds) {\n  return breeds\n    .map(({ id, name }) => `<option value=\"${id}\">${name}</option>`)\n    .join('');\n}\n\n// Функція рендерить розмітку інфо про кота\nfunction renderInfoByCat(arr) {\n  return arr.map(elem => {\n    return elem.breeds\n      .map(\n        ({ temperament, description, name }) => `\n      <img src=\"${elem.url}\" alt=\"${name}\" width=\"500\">\n      <div class=\"cat-info-thumb\">\n        <h2 class=\"cat-info-title\">${name}</h2>\n        <p>${description}</p>\n        <div>\n          <h3 class=\"cat-info-subtitle\">Temperament:</h3>\n          <p class=\"cat-info-text\">${temperament}</p>\n        </div>\n      </div>`\n      )\n      .join('');\n  });\n}\n\nexport { renderBreedsSelect, renderInfoByCat };\n"],"names":["$1f0dc3b9307be026$var$selectBreed","document","querySelector","$1f0dc3b9307be026$var$catInfoContainer","$1f0dc3b9307be026$var$loaderTextEl","$1f0dc3b9307be026$var$errorTextEl","hidden","fetch","then","resp","ok","Error","status","json","data","insertAdjacentHTML","map","id","name","join","catch","err","addEventListener","evt","selectedBreedId","target","value","innerHTML","breedId","breed","elem","breeds","temperament","description","url"],"version":3,"file":"index.959d86f8.js.map"}